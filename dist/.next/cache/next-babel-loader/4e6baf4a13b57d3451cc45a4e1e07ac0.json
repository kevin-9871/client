{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/* eslint-disable dot-notation */\n\n/* eslint-disable no-return-assign */\nimport React from 'react';\nimport Popup from '@components/common/base/popup';\nimport videojs from 'video.js';\n\nclass PopupVideoDetail extends React.PureComponent {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"popup\", void 0);\n  }\n\n  handler(src) {\n    let video = document.querySelector('#video');\n\n    if (!video) {\n      video = document.createElement('video');\n      video.setAttribute('id', 'video');\n      video.setAttribute('class', 'video-js');\n      video.setAttribute('autoplay', 'autoplay');\n      document.querySelector('.ant-modal-body').append(video);\n    }\n\n    if (!window['video-player']) {\n      window['video-player'] = videojs('video', {\n        poster: '/xcam-logo-black.png',\n        controls: true\n      });\n    }\n\n    window['video-player'].src({\n      type: 'video/mp4',\n      src\n    });\n    window['video-player'].play(); // window['video'].on()\n  }\n\n  onOk() {\n    window['video-player'] = window['video-player'].pause(); // window['video-player'].poster = '/xcam-logo-black.png';\n\n    this.popup.setVisible(false);\n  }\n\n  showModalBuyAssets(videoUrl) {\n    this.popup.setVisible(true);\n    setTimeout(() => this.handler(videoUrl), 500);\n  }\n\n  render() {\n    return __jsx(Popup, {\n      title: \"Video detail\",\n      ref: ref => this.popup = ref,\n      content: __jsx(React.Fragment, null),\n      onOk: this.onOk.bind(this),\n      onCancel: this.onOk.bind(this)\n    });\n  }\n\n}\n\nexport default PopupVideoDetail;","map":null,"metadata":{},"sourceType":"module"}