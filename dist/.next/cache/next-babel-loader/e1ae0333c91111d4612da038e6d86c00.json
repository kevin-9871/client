{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from 'react';\nimport { Form, Input, Button, DatePicker, Select, Upload, Row, Col } from 'antd';\nimport moment from 'moment';\nimport { TOKEN } from 'src/services/api-request';\nimport { LoadingOutlined, PlusOutlined, EditOutlined } from '@ant-design/icons';\nimport './profile.less';\nconst formItemLayout = {\n  labelCol: {\n    xs: {\n      span: 24\n    },\n    sm: {\n      span: 4\n    }\n  },\n  wrapperCol: {\n    xs: {\n      span: 24\n    },\n    sm: {\n      span: 16\n    }\n  }\n};\nconst tailFormItemLayout = {\n  wrapperCol: {\n    xs: {\n      span: 24,\n      offset: 0\n    },\n    sm: {\n      span: 16,\n      offset: 0\n    }\n  }\n};\n\nconst UserProfile = ({\n  username,\n  firstName,\n  lastName,\n  gender,\n  onFinish,\n  countries,\n  email,\n  country,\n  phone,\n  city,\n  state,\n  dateOfBirth,\n  onChangeAvatar,\n  uploadAvatarUrl,\n  uploadedAvatar,\n  avatarUploading,\n  avatar,\n  loading\n}) => {\n  const [form] = Form.useForm();\n\n  const uploadButton = __jsx(\"div\", null, avatarUploading ? __jsx(LoadingOutlined, null) : __jsx(PlusOutlined, null), __jsx(\"div\", {\n    className: \"ant-upload-text\"\n  }, \"Upload\"));\n\n  return __jsx(Form, _extends({}, formItemLayout, {\n    form: form,\n    onFinish: onFinish,\n    name: \"performerRegisterForm\",\n    className: \"performerRegisterForm\",\n    initialValues: {\n      dateOfBirth: moment(dateOfBirth),\n      country,\n      firstName,\n      lastName,\n      gender,\n      email,\n      avatar,\n      username,\n      phone,\n      city,\n      state\n    },\n    layout: \"vertical\"\n  }), __jsx(Row, {\n    gutter: 25\n  }, __jsx(Col, {\n    sm: 12,\n    xs: 24\n  }, __jsx(Form.Item, {\n    name: \"username\",\n    label: \"Username\",\n    rules: [{\n      required: true,\n      message: 'Please input your username!'\n    }]\n  }, __jsx(Input, {\n    disabled: true\n  })), __jsx(Form.Item, {\n    name: \"gender\",\n    label: \"Sex\"\n  }, __jsx(Select, null, __jsx(Select.Option, {\n    value: \"male\",\n    key: \"male\"\n  }, \"Male\"), __jsx(Select.Option, {\n    value: \"female\",\n    key: \"female\"\n  }, \"Female\"), __jsx(Select.Option, {\n    value: \"transgender\",\n    key: \"transgender\"\n  }, \"Transgender\"))), __jsx(Form.Item, {\n    name: \"firstName\",\n    label: \"First Name\",\n    rules: [{\n      pattern: new RegExp('^[a-zA-Z0-9 ]*$'),\n      message: 'Alphanumeric'\n    }, {\n      whitespace: true,\n      message: 'Please input your first name!'\n    }, {\n      required: true,\n      message: 'Please input your first name!'\n    }]\n  }, __jsx(Input, {\n    placeholder: \"First name\"\n  })), __jsx(Form.Item, {\n    name: \"lastName\",\n    label: \"Last Name\",\n    rules: [{\n      pattern: new RegExp('^[a-zA-Z0-9 ]*$'),\n      message: 'Alphanumeric'\n    }, {\n      whitespace: true,\n      message: 'Please input your last name!'\n    }, {\n      required: true,\n      message: 'Please input your first name!'\n    }]\n  }, __jsx(Input, {\n    placeholder: \"Last name\"\n  })), __jsx(Form.Item, {\n    name: \"phone\",\n    label: \"Phone Number\",\n    rules: [{\n      min: 9\n    }, {\n      max: 14\n    }, {\n      pattern: new RegExp(/^[0-9\\b\\\\+ ]+$/),\n      message: 'The phone number is not in the correct format'\n    }]\n  }, __jsx(Input, {\n    placeholder: \"Phone Number\"\n  }))), __jsx(Col, {\n    sm: 12,\n    xs: 24\n  }, __jsx(Form.Item, {\n    name: \"email\",\n    label: \"E-mail\",\n    rules: [{\n      type: 'email',\n      message: 'The input is not valid E-mail!'\n    }, {\n      required: true,\n      message: 'Please input your E-mail!'\n    }]\n  }, __jsx(Input, {\n    disabled: true,\n    placeholder: \"test@example.com\"\n  })), __jsx(Form.Item, {\n    name: \"dateOfBirth\",\n    label: \"Date of Birth\",\n    rules: [{\n      required: true,\n      message: 'Please input date of birth!'\n    }, {\n      validator: (rule, value) => {\n        if (!value) return Promise.resolve();\n        const years = moment().diff(value, 'years');\n\n        if (years >= 18) {\n          return Promise.resolve();\n        }\n\n        return Promise.reject(new Error('Minimum of 18 years'));\n      }\n    }]\n  }, __jsx(DatePicker, {\n    style: {\n      width: '100%'\n    }\n  })), __jsx(Form.Item, {\n    name: \"country\",\n    label: \"Country\",\n    rules: [{\n      required: true,\n      message: 'Please input your country!'\n    }]\n  }, __jsx(Select, {\n    showSearch: true\n  }, countries.length > 0 && countries.map(c => __jsx(Select.Option, {\n    value: c.name,\n    key: c.code\n  }, c.name)))), __jsx(Form.Item, {\n    name: \"state\",\n    label: \"State\"\n  }, __jsx(Input, {\n    placeholder: \"State Name\"\n  })), __jsx(Form.Item, {\n    name: \"city\",\n    label: \"City\"\n  }, __jsx(Input, {\n    placeholder: \"City Name\"\n  })), __jsx(Form.Item, {\n    label: \"Profile Avatar\" // valuePropName=\"fileList\"\n\n  }, __jsx(Upload, {\n    onChange: onChangeAvatar,\n    accept: \"image/*\",\n    action: uploadAvatarUrl,\n    headers: {\n      Authorization: false ? localStorage.getItem(TOKEN) : ''\n    },\n    name: \"avatar\",\n    showUploadList: false\n  }, avatar || uploadedAvatar ? __jsx(\"div\", {\n    style: {\n      height: 60,\n      width: 60,\n      position: 'relative'\n    }\n  }, __jsx(\"img\", {\n    src: uploadedAvatar || avatar,\n    style: {\n      height: 60,\n      width: 60,\n      borderRadius: 30\n    },\n    alt: \"\"\n  }), __jsx(EditOutlined, {\n    className: \"edit-icon\"\n  })) : uploadButton)))), __jsx(Form.Item, tailFormItemLayout, __jsx(Button, {\n    type: \"primary\",\n    htmlType: \"submit\",\n    disabled: loading,\n    loading: loading\n  }, \"Save Changes\")));\n};\n\nexport default UserProfile;","map":null,"metadata":{},"sourceType":"module"}