{"ast":null,"code":"var __jsx = React.createElement;\nimport * as React from 'react';\nimport { Select, message } from 'antd';\nimport { galleryService } from 'src/services';\nimport { getResponseError } from '@lib/utils';\nconst {\n  Option\n} = Select;\n\nconst filter = (value, option) => option.children.toLowerCase().indexOf(value.toLowerCase()) > -1;\n\nconst Galleries = ({\n  autoFocus,\n  disabled,\n  form,\n  defaultGalleryId\n}) => {\n  const [galleries, setGalleries] = React.useState([]);\n  const [galleryId, setGalleryId] = React.useState(defaultGalleryId);\n\n  const getGalleryList = async (q = '') => {\n    try {\n      const resp = await galleryService.search({\n        q\n      });\n      setGalleries(resp.data.data);\n    } catch (e) {\n      const err = await Promise.resolve(e);\n      message.error(getResponseError(err));\n    }\n  };\n\n  const setInputValue = value => {\n    setGalleryId(value);\n    form && form.setFieldsValue({\n      galleryId: value\n    });\n  };\n\n  React.useEffect(() => {\n    getGalleryList();\n  }, []);\n  return __jsx(Select, {\n    showSearch: true,\n    autoFocus: autoFocus,\n    disabled: disabled,\n    filterOption: filter,\n    value: galleryId,\n    onChange: value => setInputValue(value),\n    placeholder: \"Select your photo gallries\"\n  }, galleries.map(gallery => __jsx(Option, {\n    key: gallery._id,\n    value: gallery._id\n  }, gallery.name)));\n};\n\nGalleries.defaultProps = {\n  autoFocus: false,\n  disabled: false,\n  // performerId: '',\n  form: null,\n  defaultGalleryId: ''\n};\nexport default Galleries;","map":null,"metadata":{},"sourceType":"module"}