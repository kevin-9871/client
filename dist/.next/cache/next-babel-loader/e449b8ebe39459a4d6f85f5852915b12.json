{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport './auth-layout.less';\nimport * as React from 'react';\nimport { Layout, BackTop } from 'antd';\nimport { enquireScreen, unenquireScreen } from 'enquire-js';\nimport { connect } from 'react-redux';\nimport Router from 'next/router';\nimport { updateUIValue, loadUIValue } from 'src/redux/ui/actions';\nimport Header from '@components/common/layout/header';\nimport Loader from '@components/common/base/loader';\nimport Footer from '@components/common/layout/footer';\nexport function getStaticProps() {\n  return _getStaticProps.apply(this, arguments);\n}\n\nfunction _getStaticProps() {\n  _getStaticProps = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            return _context.abrupt(\"return\", {\n              props: {}\n            });\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _getStaticProps.apply(this, arguments);\n}\n\nvar AuthLayout = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(AuthLayout, _React$PureComponent);\n\n  var _super = _createSuper(AuthLayout);\n\n  function AuthLayout() {\n    var _this;\n\n    _classCallCheck(this, AuthLayout);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      isMobile: false,\n      // security request for primary layout\n      routerChange: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"enquireHandler\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"onThemeChange\", function (theme) {\n      var dispatchUpdateUIValue = _this.props.updateUIValue;\n      dispatchUpdateUIValue({\n        theme: theme\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onCollapseChange\", function (collapsed) {\n      var dispatchUpdateUIValue = _this.props.updateUIValue;\n      dispatchUpdateUIValue({\n        collapsed: collapsed\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(AuthLayout, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          dispatchLoadUIValue = _this$props.loadUIValue,\n          loggedIn = _this$props.loggedIn;\n\n      if (loggedIn) {\n        Router.push('/');\n        return;\n      }\n\n      dispatchLoadUIValue();\n      this.enquireHandler = enquireScreen(function (mobile) {\n        var isMobile = _this2.state.isMobile;\n\n        if (isMobile !== mobile) {\n          _this2.setState({\n            isMobile: mobile\n          });\n        }\n      });\n      true && this.handleStateChange();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      unenquireScreen(this.enquireHandler);\n    }\n  }, {\n    key: \"handleStateChange\",\n    value: function handleStateChange() {\n      var _this3 = this;\n\n      Router.events.on('routeChangeStart', function () {\n        return _this3.setState({\n          routerChange: true\n        });\n      });\n      Router.events.on('routeChangeComplete', function () {\n        return _this3.setState({\n          routerChange: false\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          children = _this$props2.children,\n          collapsed = _this$props2.collapsed,\n          logo = _this$props2.logo,\n          theme = _this$props2.theme;\n      var routerChange = this.state.routerChange;\n      var headerProps = {\n        logo: logo,\n        collapsed: collapsed,\n        theme: theme,\n        onCollapseChange: this.onCollapseChange\n      };\n      return __jsx(Layout, {\n        className: \"container\",\n        id: \"authLayout\"\n      }, __jsx(Header, headerProps), __jsx(\"div\", {\n        className: \"content\"\n      }, routerChange && __jsx(Loader, {\n        spinning: true,\n        fullScreen: true\n      }), children), __jsx(Footer, null), __jsx(BackTop, {\n        className: \"backTop\"\n      }));\n    }\n  }]);\n\n  return AuthLayout;\n}(React.PureComponent);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return _objectSpread(_objectSpread({}, state.ui), {}, {\n    loggedIn: state.auth.loggedIn,\n    auth: state.auth\n  });\n};\n\nvar mapDispatchToProps = {\n  updateUIValue: updateUIValue,\n  loadUIValue: loadUIValue\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(AuthLayout);","map":{"version":3,"sources":["/Users/frag-games/Desktop/Test Projects/secret-client/src/layouts/auth-layout.tsx"],"names":["React","Layout","BackTop","enquireScreen","unenquireScreen","connect","Router","updateUIValue","loadUIValue","Header","Loader","Footer","getStaticProps","props","AuthLayout","isMobile","routerChange","theme","dispatchUpdateUIValue","collapsed","dispatchLoadUIValue","loggedIn","push","enquireHandler","mobile","state","setState","handleStateChange","events","on","children","logo","headerProps","onCollapseChange","PureComponent","mapStateToProps","ui","auth","mapDispatchToProps"],"mappings":"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","sourcesContent":["import './auth-layout.less';\nimport * as React from 'react';\nimport { Layout, BackTop } from 'antd';\nimport { enquireScreen, unenquireScreen } from 'enquire-js';\nimport { connect } from 'react-redux';\nimport Router from 'next/router';\nimport { updateUIValue, loadUIValue } from 'src/redux/ui/actions';\nimport { IMenu, IUIConfig } from 'src/interfaces/ui-config';\nimport Header from '@components/common/layout/header';\nimport Loader from '@components/common/base/loader';\nimport Footer from '@components/common/layout/footer';\n\ninterface DefaultProps extends IUIConfig {\n  children: any;\n  config: IUIConfig;\n  updateUIValue: Function;\n  loadUIValue: Function;\n  menus: IMenu[];\n  loggedIn: boolean;\n}\n\nexport async function getStaticProps() {\n  return {\n    props: {}\n  };\n}\n\nclass AuthLayout extends React.PureComponent<DefaultProps> {\n  state = {\n    isMobile: false,\n    // security request for primary layout\n    routerChange: false\n  };\n\n  enquireHandler: any;\n\n  componentDidMount() {\n    const { loadUIValue: dispatchLoadUIValue, loggedIn } = this.props;\n    if (loggedIn) {\n      Router.push('/');\n      return;\n    }\n\n    dispatchLoadUIValue();\n    this.enquireHandler = enquireScreen((mobile) => {\n      const { isMobile } = this.state;\n      if (isMobile !== mobile) {\n        this.setState({\n          isMobile: mobile\n        });\n      }\n    });\n\n    process.browser && this.handleStateChange();\n  }\n\n  componentWillUnmount() {\n    unenquireScreen(this.enquireHandler);\n  }\n\n  handleStateChange() {\n    Router.events.on('routeChangeStart', () => this.setState({ routerChange: true }));\n    Router.events.on('routeChangeComplete', () => this.setState({ routerChange: false }));\n  }\n\n  onThemeChange = (theme: string) => {\n    const { updateUIValue: dispatchUpdateUIValue } = this.props;\n    dispatchUpdateUIValue({ theme });\n  };\n\n  onCollapseChange = (collapsed) => {\n    const { updateUIValue: dispatchUpdateUIValue } = this.props;\n    dispatchUpdateUIValue({ collapsed });\n  };\n\n  render() {\n    const {\n      children,\n      collapsed,\n      logo,\n      // siteName,\n      theme\n    } = this.props;\n    const { routerChange } = this.state;\n    const headerProps = {\n      logo,\n      collapsed,\n      theme,\n      onCollapseChange: this.onCollapseChange\n    };\n\n    return (\n      <Layout className=\"container\" id=\"authLayout\">\n        <Header {...headerProps} />\n        <div className=\"content\">\n          {routerChange && <Loader spinning fullScreen />}\n          {/* <Bread routeList={newRouteList} /> */}\n          {children}\n        </div>\n        <Footer />\n        <BackTop className=\"backTop\" />\n      </Layout>\n    );\n  }\n}\n\nconst mapStateToProps = (state: any) => ({\n  ...state.ui,\n  loggedIn: state.auth.loggedIn,\n  auth: state.auth\n});\nconst mapDispatchToProps = { updateUIValue, loadUIValue };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AuthLayout);\n"]},"metadata":{},"sourceType":"module"}