{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[87],{Abbm:function(e,t,n){e.exports={spinner:\"FqxmFNz4OrHU-AwWcntBB\"}},Bfpx:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return m}));var r=n(\"1OyB\"),a=n(\"vuIU\"),i=n(\"Ji7U\"),o=n(\"md7G\"),c=n(\"foSv\"),s=n(\"q1tI\"),l=n.n(s),u=n(\"TSYQ\"),p=n.n(u),d=n(\"TW7V\"),f=(n(\"r1gO\"),l.a.createElement);function v(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(c.a)(e);if(t){var a=Object(c.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(o.a)(this,n)}}var m=function(e){Object(i.a)(n,e);var t=v(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:\"render\",value:function(){var e=this.props,t=e.className,n=e.children,r=e.loading,a=void 0!==r&&r,i=e.inner,o=void 0===i||i;return f(\"div\",{className:p()(t,{contentInner:o}),style:a?{height:\"calc(100vh - 184px)\",overflow:\"hidden\"}:null},a?f(d.a,{spinning:!0}):\"\",n)}}]),n}(s.PureComponent)},RxlS:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/account/user/orders/detail\",function(){return n(\"WyAO\")}])},TW7V:function(e,t,n){\"use strict\";var r=n(\"q1tI\"),a=n.n(r),i=n(\"TSYQ\"),o=n.n(i),c=(n(\"Abbm\"),a.a.createElement);t.a=function(e){var t=e.spinning,n=void 0!==t&&t,r=e.fullScreen,a=void 0!==r&&r;return c(\"div\",{className:o()(\"loader\",{hidden:!n,fullScreen:a})},c(\"div\",{className:\"warpper\"},c(\"div\",{className:\"text\"},c(\"img\",{src:\"/loading-ico.gif\",width:\"65px\",alt:\"\"}))))}},WyAO:function(e,t,n){\"use strict\";n.r(t);var r=n(\"o0o1\"),a=n.n(r),i=n(\"HaE+\"),o=n(\"1OyB\"),c=n(\"vuIU\"),s=n(\"Ji7U\"),l=n(\"md7G\"),u=n(\"foSv\"),p=n(\"rePB\"),d=n(\"tsqr\"),f=n(\"Y1dN\"),v=n(\"8Kt/\"),m=n.n(v),h=n(\"q1tI\"),b=n.n(h),y=n(\"CLrh\"),g=n(\"/MKj\"),O=n(\"NsEo\"),j=n(\"nOHt\"),x=n.n(j),I=n(\"Zxk6\"),w=b.a.createElement;function S(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(u.a)(e);if(t){var a=Object(u.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var k=function(e){Object(s.a)(n,e);var t=S(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).state={order:null,loading:!1,isUpdating:!1},r}return Object(c.a)(n,[{key:\"componentDidMount\",value:function(){this.getData()}},{key:\"getData\",value:function(){var e=Object(i.a)(a.a.mark((function e(){var t,n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.id,e.prev=1,this.setState({loading:!0}),e.next=5,y.g.userFindById(t);case 5:n=e.sent,this.setState({order:n.data}),e.next=15;break;case 9:return e.prev=9,e.t0=e.catch(1),e.next=13,Promise.resolve(e.t0);case 13:r=e.sent,d.b.error(Object(O.g)(r));case 15:return e.prev=15,this.setState({loading:!1}),e.finish(15);case 18:case\"end\":return e.stop()}}),e,this,[[1,9,15,18]])})));return function(){return e.apply(this,arguments)}}()},{key:\"submit\",value:function(){var e=Object(i.a)(a.a.mark((function e(t){var n,r,i,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.shippingCode,r=t.deliveryStatus,i=this.props.id,n){e.next=5;break}return d.b.error(\"Missing shipping code\"),e.abrupt(\"return\");case 5:return e.prev=5,this.setState({isUpdating:!0}),e.next=9,y.g.update(i,{deliveryStatus:r,shippingCode:n});case 9:d.b.success(\"Changes saved.\"),x.a.back(),e.next=19;break;case 13:return e.prev=13,e.t0=e.catch(5),e.next=17,Promise.resolve(e.t0);case 17:o=e.sent,d.b.error(Object(O.g)(o));case 19:return e.prev=19,this.setState({isUpdating:!1}),e.finish(19);case 22:case\"end\":return e.stop()}}),e,this,[[5,13,19,22]])})));return function(t){return e.apply(this,arguments)}}()},{key:\"render\",value:function(){var e=this.state,t=e.order,n=e.isUpdating,r=e.loading;return w(b.a.Fragment,null,w(m.a,null,w(\"title\",null,\"My Order -\",t&&t.orderNumber)),w(\"div\",{className:\"main-container\"},w(f.a,{title:\"Order detail\"}),w(I.a,{order:t,loading:r,isUpdating:n,onFinish:this.submit.bind(this),isUser:!0,disableUpdate:!0})))}}],[{key:\"getInitialProps\",value:function(){var e=Object(i.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.ctx,e.abrupt(\"return\",n.query);case 2:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),n}(h.PureComponent);Object(p.a)(k,\"authenticate\",!0),Object(p.a)(k,\"layout\",\"primary\");t.default=Object(g.b)((function(e){return{ui:e.ui}}))(k)},Zxk6:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return w}));var r=n(\"1OyB\"),a=n(\"vuIU\"),i=n(\"Ji7U\"),o=n(\"md7G\"),c=n(\"foSv\"),s=n(\"Vl3Y\"),l=n(\"mr32\"),u=n(\"5rEg\"),p=n(\"2fM7\"),d=n(\"zeV3\"),f=n(\"2/Rp\"),v=n(\"q1tI\"),m=n.n(v),h=n(\"Bfpx\"),b=(n(\"CK1C\"),n(\"iQ74\")),y=n(\"v1BB\"),g=n(\"TXU+\"),O=n(\"nOHt\"),j=n.n(O),x=m.a.createElement;function I(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(c.a)(e);if(t){var a=Object(c.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(o.a)(this,n)}}var w=function(e){Object(i.a)(n,e);var t=I(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:\"render\",value:function(){var e,t=this.props,n=t.order,r=t.loading,a=t.isUpdating,i=t.disableUpdate,o=t.onFinish,c=t.isUser;return x(h.a,null,n&&x(\"div\",{className:\"main-container\"},x(s.a,{onFinish:o,wrapperCol:{sm:{span:18}},labelCol:{sm:{span:6}},initialValues:n,id:\"form-update-order\"},x(s.a.Item,{wrapperCol:{sm:{span:12}}},x(l.a,{color:\"magenta\"},\"#\",n.orderNumber)),x(s.a.Item,{label:\"User\"},(null===n||void 0===n||null===(e=n.userInfo)||void 0===e?void 0:e.username)||\"N/A\"),x(s.a.Item,{label:\"Performer\"},null!==n&&void 0!==n&&n.performerInfo?x(y.a,{performer:n.performerInfo}):\"N/A\"),x(s.a.Item,{label:\"Product\"},n.productsInfo&&n.productsInfo.length&&n.productsInfo[0].name),x(s.a.Item,{label:\"Quantity\"},n.quantity),x(s.a.Item,{label:\"Total Price\"},x(g.a,{value:n.totalPrice,suffix:\" tokens\"})),x(s.a.Item,{label:\"Delivery Address\"},n.deliveryAddress||\"N/A\"),x(s.a.Item,{label:\"Delivery Postal Code\"},n.postalCode||\"N/A\"),x(s.a.Item,{name:\"shippingCode\",label:\"Shipping Code\"},c?n.shippingCode:x(u.a,{placeholder:\"Enter shipping code here\"})),x(s.a.Item,{name:\"deliveryStatus\",label:\"Delivery Status\"},i?x(b.b,{status:n.deliveryStatus}):x(p.a,null,x(p.a.Option,{key:\"processing\",value:\"processing\"},\"Processing\"),x(p.a.Option,{key:\"shipping\",value:\"shipping\"},\"Shipping\"),x(p.a.Option,{key:\"delivered\",value:\"delivered\"},\"Delivered\"),x(p.a.Option,{key:\"refunded\",value:\"refunded\"},\"Refunded\"))),x(s.a.Item,null,x(d.b,null,x(f.a,{type:\"primary\",onClick:function(){return j.a.back()}},\"Back\"),x(f.a,{type:\"primary\",htmlType:\"submit\",loading:a,disabled:r,hidden:i},\"Update\"))))))}}]),n}(v.PureComponent)},zeV3:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return f}));var r=n(\"wx14\"),a=n(\"rePB\"),i=n(\"ODXe\"),o=n(\"q1tI\"),c=n(\"TSYQ\"),s=n.n(c),l=n(\"Zm9Q\"),u=n(\"H84U\");function p(e){var t=e.className,n=e.direction,i=e.index,c=e.marginDirection,s=e.children,l=e.split,u=e.wrap,p=o.useContext(f),d=p.horizontalSize,v=p.verticalSize,m=p.latestIndex,h={};return\"vertical\"===n?i<m&&(h={marginBottom:d/(l?2:1)}):h=Object(r.a)(Object(r.a)({},i<m&&Object(a.a)({},c,d/(l?2:1))),u&&{paddingBottom:v}),null===s||void 0===s?null:o.createElement(o.Fragment,null,o.createElement(\"div\",{className:t,style:h},s),i<m&&l&&o.createElement(\"span\",{className:\"\".concat(t,\"-split\"),style:h},l))}var d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&\"function\"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},f=o.createContext({latestIndex:0,horizontalSize:0,verticalSize:0}),v={small:8,middle:16,large:24};t.b=function(e){var t,n=o.useContext(u.b),c=n.getPrefixCls,m=n.space,h=n.direction,b=e.size,y=void 0===b?(null===m||void 0===m?void 0:m.size)||\"small\":b,g=e.align,O=e.className,j=e.children,x=e.direction,I=void 0===x?\"horizontal\":x,w=e.prefixCls,S=e.split,k=e.style,N=e.wrap,C=void 0!==N&&N,P=d(e,[\"size\",\"align\",\"className\",\"children\",\"direction\",\"prefixCls\",\"split\",\"style\",\"wrap\"]),B=o.useMemo((function(){return(Array.isArray(y)?y:[y,y]).map((function(e){return function(e){return\"string\"===typeof e?v[e]:e||0}(e)}))}),[y]),E=Object(i.a)(B,2),U=E[0],R=E[1],z=Object(l.a)(j,{keepEmpty:!0});if(0===z.length)return null;var A=void 0===g&&\"horizontal\"===I?\"center\":g,_=c(\"space\",w),D=s()(_,\"\".concat(_,\"-\").concat(I),(t={},Object(a.a)(t,\"\".concat(_,\"-rtl\"),\"rtl\"===h),Object(a.a)(t,\"\".concat(_,\"-align-\").concat(A),A),t),O),T=\"\".concat(_,\"-item\"),q=\"rtl\"===h?\"marginLeft\":\"marginRight\",F=0,M=z.map((function(e,t){return null!==e&&void 0!==e&&(F=t),o.createElement(p,{className:T,key:\"\".concat(T,\"-\").concat(t),direction:I,index:t,marginDirection:q,split:S,wrap:C},e)}));return o.createElement(\"div\",Object(r.a)({className:D,style:Object(r.a)(Object(r.a)({},C&&{flexWrap:\"wrap\",marginBottom:-R}),k)},P),o.createElement(f.Provider,{value:{horizontalSize:U,verticalSize:R,latestIndex:F}},M))}}},[[\"RxlS\",0,1,4,5,3,2,6,7,8,10,11,12,13,14,15,16,17,18,19,20,21,22,24,38,9]]]);","extractedComments":[]}