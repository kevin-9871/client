{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[83],{G3dp:function(e,t,a){\"use strict\";var r=a(\"q1tI\"),n={name:\"edit\",theme:\"outlined\",icon:{tag:\"svg\",attrs:{viewBox:\"64 64 896 896\",focusable:\"false\"},children:[{tag:\"path\",attrs:{d:\"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z\"}}]}},s=a(\"6VBw\"),u=function(e,t){return r.createElement(s.a,Object.assign({},e,{ref:t,icon:n}))};u.displayName=\"EditOutlined\";t.a=r.forwardRef(u)},ITiG:function(e,t,a){\"use strict\";a.d(t,\"a\",(function(){return p}));var r=a(\"1OyB\"),n=a(\"vuIU\"),s=a(\"Ji7U\"),u=a(\"md7G\"),o=a(\"foSv\"),i=a(\"/bfT\"),c=a(\"XwMy\");function l(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=Object(o.a)(e);if(t){var n=Object(o.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(u.a)(this,a)}}var p=new(function(e){Object(s.a)(a,e);var t=l(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(n.a)(a,[{key:\"me\",value:function(e){return this.get(\"/users/me\",e)}},{key:\"updateMe\",value:function(e){return this.put(\"/users\",e)}},{key:\"getAvatarUploadUrl\",value:function(e){return e?\"\".concat(c.a.apiEndpoint,\"/users/\").concat(e,\"/avatar/upload\"):\"\".concat(c.a.apiEndpoint,\"/users/avatar/upload\")}},{key:\"search\",value:function(e){return this.get(this.buildUrl(\"/users/search\",e))}},{key:\"findById\",value:function(e){return this.get(\"/users/view/\".concat(e))}}]),a}(i.a))},grZg:function(e,t,a){\"use strict\";a.r(t);var r=a(\"wx14\"),n=a(\"o0o1\"),s=a.n(n),u=a(\"HaE+\"),o=a(\"1OyB\"),i=a(\"vuIU\"),c=a(\"Ji7U\"),l=a(\"md7G\"),p=a(\"foSv\"),d=a(\"rePB\"),f=a(\"q1tI\"),m=a.n(f),h=a(\"tsqr\"),v=a(\"ZTPi\"),g=a(\"Y1dN\"),b=a(\"/MKj\"),y=a(\"ODXe\"),O=a(\"Vl3Y\"),P=a(\"BMrR\"),j=a(\"kPKH\"),w=a(\"5rEg\"),U=a(\"2fM7\"),E=a(\"+eQT\"),T=a(\"8z0m\"),k=a(\"2/Rp\"),R=a(\"wd/R\"),I=a.n(R),S=a(\"/bfT\"),A=a(\"ye1Q\"),C=a(\"xvlK\"),x=a(\"G3dp\"),N=(a(\"Pje9\"),f.createElement),F={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:16}}},_={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:0}}},B=function(e){var t=e.username,a=e.firstName,n=e.lastName,s=e.gender,u=e.onFinish,o=e.countries,i=e.email,c=e.country,l=e.phone,p=e.city,d=e.state,f=e.dateOfBirth,m=e.onChangeAvatar,h=e.uploadAvatarUrl,v=e.uploadedAvatar,g=e.avatarUploading,b=e.avatar,R=e.loading,B=O.a.useForm(),M=Object(y.a)(B,1)[0],G=N(\"div\",null,N(g?A.a:C.a,null),N(\"div\",{className:\"ant-upload-text\"},\"Upload\"));return N(O.a,Object(r.a)({},F,{form:M,onFinish:u,name:\"performerRegisterForm\",className:\"performerRegisterForm\",initialValues:{dateOfBirth:I()(f),country:c,firstName:a,lastName:n,gender:s,email:i,avatar:b,username:t,phone:l,city:p,state:d},layout:\"vertical\"}),N(P.a,{gutter:25},N(j.a,{sm:12,xs:24},N(O.a.Item,{name:\"username\",label:\"Username\",rules:[{required:!0,message:\"Please input your username!\"}]},N(w.a,{disabled:!0})),N(O.a.Item,{name:\"gender\",label:\"Sex\"},N(U.a,null,N(U.a.Option,{value:\"male\",key:\"male\"},\"Male\"),N(U.a.Option,{value:\"female\",key:\"female\"},\"Female\"),N(U.a.Option,{value:\"transgender\",key:\"transgender\"},\"Transgender\"))),N(O.a.Item,{name:\"firstName\",label:\"First Name\",rules:[{pattern:new RegExp(\"^[a-zA-Z0-9 ]*$\"),message:\"Alphanumeric\"},{whitespace:!0,message:\"Please input your first name!\"},{required:!0,message:\"Please input your first name!\"}]},N(w.a,{placeholder:\"First name\"})),N(O.a.Item,{name:\"lastName\",label:\"Last Name\",rules:[{pattern:new RegExp(\"^[a-zA-Z0-9 ]*$\"),message:\"Alphanumeric\"},{whitespace:!0,message:\"Please input your last name!\"},{required:!0,message:\"Please input your first name!\"}]},N(w.a,{placeholder:\"Last name\"})),N(O.a.Item,{name:\"phone\",label:\"Phone Number\",rules:[{min:9},{max:14},{pattern:new RegExp(/^[0-9\\b\\\\+ ]+$/),message:\"The phone number is not in the correct format\"}]},N(w.a,{placeholder:\"Phone Number\"}))),N(j.a,{sm:12,xs:24},N(O.a.Item,{name:\"email\",label:\"E-mail\",rules:[{type:\"email\",message:\"The input is not valid E-mail!\"},{required:!0,message:\"Please input your E-mail!\"}]},N(w.a,{disabled:!0,placeholder:\"test@example.com\"})),N(O.a.Item,{name:\"dateOfBirth\",label:\"Date of Birth\",rules:[{required:!0,message:\"Please input date of birth!\"},{validator:function(e,t){return t?I()().diff(t,\"years\")>=18?Promise.resolve():Promise.reject(new Error(\"Minimum of 18 years\")):Promise.resolve()}}]},N(E.a,{style:{width:\"100%\"}})),N(O.a.Item,{name:\"country\",label:\"Country\",rules:[{required:!0,message:\"Please input your country!\"}]},N(U.a,{showSearch:!0},o.length>0&&o.map((function(e){return N(U.a.Option,{value:e.name,key:e.code},e.name)})))),N(O.a.Item,{name:\"state\",label:\"State\"},N(w.a,{placeholder:\"State Name\"})),N(O.a.Item,{name:\"city\",label:\"City\"},N(w.a,{placeholder:\"City Name\"})),N(O.a.Item,{label:\"Profile Avatar\"},N(T.a,{onChange:m,accept:\"image/*\",action:h,headers:{Authorization:localStorage.getItem(S.f)},name:\"avatar\",showUploadList:!1},b||v?N(\"div\",{style:{height:60,width:60,position:\"relative\"}},N(\"img\",{src:v||b,style:{height:60,width:60,borderRadius:30},alt:\"\"}),N(x.a,{className:\"edit-icon\"})):G)))),N(O.a.Item,_,N(k.a,{type:\"primary\",htmlType:\"submit\",disabled:R,loading:R},\"Save Changes\")))},M=a(\"8Kt/\"),G=a.n(M),q=a(\"zM0U\"),z=a(\"ITiG\"),H=a(\"x7is\"),D=a(\"kXO4\"),X=a(\"NsEo\"),K=a(\"nOHt\"),L=a.n(K),V=a(\"4xUc\"),Y=(a(\"vXTS\"),m.a.createElement);function J(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?J(Object(a),!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function $(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=Object(p.a)(e);if(t){var n=Object(p.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(l.a)(this,a)}}var Q=function(e){Object(c.a)(a,e);var t=$(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).state={countries:[],uploadedAvatar:\"\",avatarUploading:!1},r}return Object(i.a)(a,[{key:\"componentDidMount\",value:function(){var e=this.props.action;e&&\"account-information\"!==e||this.getCountries()}},{key:\"componentDidUpdate\",value:function(e){var t=this.props,a=t.success,r=t.updateUserError,n=t.auth,s=t.action,u=this.state.countries;e.success!==a&&a&&h.b.success(\"Update Profile Success.\"),e.updateUserError!==r&&r&&h.b.error(Object(X.g)(r)),e.auth.updatePassword.success!==n.updatePassword.success&&n.updatePassword.success&&h.b.success(\"Update Password Success.\"),e.auth.updatePassword.error!==n.updatePassword.error&&n.updatePassword.error&&h.b.error(Object(X.g)(n.updatePassword.error)),u.length||\"account-information\"!==s||this.getCountries()}},{key:\"onFinish\",value:function(e){var t=this.props,a=t.user;(0,t.updateUser)(Z(Z({},a),e))}},{key:\"onChangeAvatar\",value:function(e){\"uploading\"!==e.file.status?(\"done\"===e.file.status&&this.setState({avatarUploading:!0}),e.file.response&&this.setState({uploadedAvatar:e.file.response.data.url})):this.setState({avatarUploading:!0})}},{key:\"onTabsChange\",value:function(e){L.a.push({pathname:\"/account/user/account-settings\",query:{action:e}},\"/account/user/account-settings?action=\".concat(e),{shallow:!1})}},{key:\"onPasswordChange\",value:function(e){(0,this.props.updatePassword)(e)}},{key:\"getCountries\",value:function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.a.getCountries();case 3:t=e.sent,this.setState({countries:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),h.b.error(Object(X.g)(e.t0));case 10:case\"end\":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:\"render\",value:function(){var e=this.props,t=e.user,a=e.action,n=e.auth,s=e.userUpdating,u=this.state,o=u.countries,i=u.uploadedAvatar,c=u.avatarUploading;return Y(m.a.Fragment,null,Y(G.a,null,Y(\"title\",null,\"\".concat(t.username,\" Profile\"))),Y(\"div\",{className:\"account-setting-page\"},Y(g.a,{title:\"Account Settings\"}),Y(v.a,{activeKey:a||\"account-information\",style:{padding:\"0 24px\"},size:\"large\",onChange:this.onTabsChange.bind(this)},Y(v.a.TabPane,{tab:\"Account Information\",key:\"account-information\"},Y(B,Object(r.a)({},t,{onFinish:this.onFinish.bind(this),countries:o,onChangeAvatar:this.onChangeAvatar.bind(this),uploadAvatarUrl:z.a.getAvatarUploadUrl(),uploadedAvatar:i,avatarUploading:c,loading:s}))),Y(v.a.TabPane,{key:\"change-password\",tab:\"Change Password\"},Y(V.a,Object(r.a)({onFinish:this.onPasswordChange.bind(this)},n.updatePassword))))))}}],[{key:\"getInitialProps\",value:function(e){return{action:e.ctx.query.action}}}]),a}(f.PureComponent);Object(d.a)(Q,\"authenticate\",!0),Object(d.a)(Q,\"layout\",\"primary\");var W={updateUser:H.p,updatePassword:D.s};t.default=Object(b.b)((function(e){return{user:e.user.current,userUpdating:e.user.userUpdating,success:e.user.updateUserSuccess,updateUserError:e.user.updateUserError,auth:e.auth}}),W)(Q)},\"jX+S\":function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/account/user/account-settings\",function(){return a(\"grZg\")}])},x7is:function(e,t,a){\"use strict\";a.d(t,\"m\",(function(){return n})),a.d(t,\"n\",(function(){return s})),a.d(t,\"o\",(function(){return u})),a.d(t,\"p\",(function(){return i})),a.d(t,\"r\",(function(){return c})),a.d(t,\"q\",(function(){return l})),a.d(t,\"l\",(function(){return p})),a.d(t,\"k\",(function(){return d})),a.d(t,\"a\",(function(){return f})),a.d(t,\"b\",(function(){return h})),a.d(t,\"d\",(function(){return v})),a.d(t,\"c\",(function(){return g})),a.d(t,\"i\",(function(){return b})),a.d(t,\"j\",(function(){return y})),a.d(t,\"e\",(function(){return P})),a.d(t,\"g\",(function(){return j})),a.d(t,\"f\",(function(){return w})),a.d(t,\"h\",(function(){return U}));var r=a(\"vo7w\"),n=Object(r.a)(\"updateCurrentUser\"),s=Object(r.a)(\"updateCurrentUserAvatar\"),u=Object(r.a)(\"updateCurrentUserBalance\"),o=Object(r.b)(\"updateUser\",\"UPDATE_USER\"),i=o.updateUser,c=o.updateUserSuccess,l=o.updateUserFail,p=Object(r.a)(\"updatingUser\"),d=Object(r.a)(\"setUserReducer\"),f=Object(r.a)(\"buyTokenSuccess\"),m=Object(r.b)(\"getFavoritePerformers\",\"GET_FAVOURITE\"),h=m.getFavoritePerformers,v=m.getFavoritePerformersSuccess,g=m.getFavoritePerformersFailed,b=Object(r.a)(\"GETTING_FAVORITE\"),y=Object(r.a)(\"REMOVE_FAVORITE\"),O=Object(r.b)(\"getPaymentTokenHistroy\",\"GET_PAYMET_TOKE_HISTORY\"),P=O.getPaymentTokenHistroy,j=O.getPaymentTokenHistroySuccess,w=O.getPaymentTokenHistroyFail,U=Object(r.a)(\"GETTING_PAYMET_TOKE_HISTORY\")},zM0U:function(e,t,a){\"use strict\";a.d(t,\"a\",(function(){return c}));var r=a(\"1OyB\"),n=a(\"vuIU\"),s=a(\"Ji7U\"),u=a(\"md7G\"),o=a(\"foSv\");function i(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=Object(o.a)(e);if(t){var n=Object(o.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(u.a)(this,a)}}var c=new(function(e){Object(s.a)(a,e);var t=i(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(n.a)(a,[{key:\"all\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\";return this.get(this.buildUrl(\"/settings/public\",{group:e}))}},{key:\"getCountries\",value:function(){return this.get(\"/countries/list\")}},{key:\"getTimezones\",value:function(){return this.get(\"/timezones/list\")}}]),a}(a(\"/bfT\").a))}},[[\"jX+S\",0,1,4,5,3,2,6,7,8,10,11,12,13,14,15,16,18,19,20,21,23,27,28,51,9]]]);","extractedComments":[]}