_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[85],{Abbm:function(e,t,n){e.exports={spinner:"FqxmFNz4OrHU-AwWcntBB"}},Bfpx:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n("1OyB"),a=n("vuIU"),i=n("Ji7U"),o=n("md7G"),c=n("foSv"),l=n("q1tI"),s=n.n(l),u=n("TSYQ"),d=n.n(u),p=n("TW7V"),f=(n("r1gO"),s.a.createElement);function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(c.a)(e);if(t){var a=Object(c.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(o.a)(this,n)}}var m=function(e){Object(i.a)(n,e);var t=v(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.children,r=e.loading,a=void 0!==r&&r,i=e.inner,o=void 0===i||i;return f("div",{className:d()(t,{contentInner:o}),style:a?{height:"calc(100vh - 184px)",overflow:"hidden"}:null},a?f(p.a,{spinning:!0}):"",n)}}]),n}(l.PureComponent)},RxlS:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/user/orders/detail",function(){return n("WyAO")}])},TW7V:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),i=n("TSYQ"),o=n.n(i),c=(n("Abbm"),a.a.createElement);t.a=function(e){var t=e.spinning,n=void 0!==t&&t,r=e.fullScreen,a=void 0!==r&&r;return c("div",{className:o()("loader",{hidden:!n,fullScreen:a})},c("div",{className:"warpper"},c("div",{className:"text"},c("img",{src:"/loading-ico.gif",width:"65px",alt:""}))))}},WyAO:function(e,t,n){"use strict";n.r(t);var r=n("o0o1"),a=n.n(r),i=n("HaE+"),o=n("1OyB"),c=n("vuIU"),l=n("Ji7U"),s=n("md7G"),u=n("foSv"),d=n("rePB"),p=n("tsqr"),f=n("Y1dN"),v=n("8Kt/"),m=n.n(v),h=n("q1tI"),b=n.n(h),y=n("CLrh"),g=n("/MKj"),O=n("NsEo"),w=n("nOHt"),x=n.n(w),j=n("Zxk6"),k=b.a.createElement;function S(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(u.a)(e);if(t){var a=Object(u.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(s.a)(this,n)}}var I=function(e){Object(l.a)(n,e);var t=S(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).state={order:null,loading:!1,isUpdating:!1},r}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.getData()}},{key:"getData",value:function(){var e=Object(i.a)(a.a.mark((function e(){var t,n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.id,e.prev=1,this.setState({loading:!0}),e.next=5,y.g.userFindDetails(t);case 5:n=e.sent,this.setState({order:n.data}),e.next=15;break;case 9:return e.prev=9,e.t0=e.catch(1),e.next=13,Promise.resolve(e.t0);case 13:r=e.sent,p.b.error(Object(O.h)(r));case 15:return e.prev=15,this.setState({loading:!1}),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[1,9,15,18]])})));return function(){return e.apply(this,arguments)}}()},{key:"submit",value:function(){var e=Object(i.a)(a.a.mark((function e(t){var n,r,i,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.shippingCode,r=t.deliveryStatus,i=this.props.id,n){e.next=5;break}return p.b.error("Missing shipping code"),e.abrupt("return");case 5:return e.prev=5,this.setState({isUpdating:!0}),e.next=9,y.g.update(i,{deliveryStatus:r,shippingCode:n});case 9:p.b.success("Changes saved."),x.a.back(),e.next=19;break;case 13:return e.prev=13,e.t0=e.catch(5),e.next=17,Promise.resolve(e.t0);case 17:o=e.sent,p.b.error(Object(O.h)(o));case 19:return e.prev=19,this.setState({isUpdating:!1}),e.finish(19);case 22:case"end":return e.stop()}}),e,this,[[5,13,19,22]])})));return function(t){return e.apply(this,arguments)}}()},{key:"download",value:function(){var e=Object(i.a)(a.a.mark((function e(){var t,n,r,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.state.order,e.next=3,y.n.getDownloadLink(r.productId);case 3:if(i=e.sent,null!==(t=i.data)&&void 0!==t&&t.downloadUrl){e.next=6;break}return e.abrupt("return",p.b.error("Something went wrong!"));case 6:return e.abrupt("return",window.open(null===(n=i.data)||void 0===n?void 0:n.downloadUrl,"_blank"));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.order,n=e.isUpdating,r=e.loading;return k(b.a.Fragment,null,k(m.a,null,k("title",null,"My Order -",null===t||void 0===t?void 0:t.orderNumber)),k("div",{className:"main-container"},k(f.a,{title:"Order detail"}),k(j.a,{order:t,loading:r,isUpdating:n,onFinish:this.submit.bind(this),onDownloadClick:this.download.bind(this),isUser:!0,disableUpdate:!0})))}}],[{key:"getInitialProps",value:function(){var e=Object(i.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.ctx,e.abrupt("return",n.query);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),n}(h.PureComponent);Object(d.a)(I,"authenticate",!0),Object(d.a)(I,"layout","primary");t.default=Object(g.b)((function(e){return{ui:e.ui}}))(I)},Zxk6:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var r=n("1OyB"),a=n("vuIU"),i=n("Ji7U"),o=n("md7G"),c=n("foSv"),l=n("Vl3Y"),s=n("mr32"),u=n("5rEg"),d=n("2fM7"),p=n("zeV3"),f=n("2/Rp"),v=n("q1tI"),m=n.n(v),h=n("dF/Y"),b=n("Bfpx"),y=(n("CK1C"),n("iQ74")),g=n("v1BB"),O=n("TXU+"),w=n("nOHt"),x=n.n(w),j=m.a.createElement;function k(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(c.a)(e);if(t){var a=Object(c.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(o.a)(this,n)}}var S=function(e){Object(i.a)(n,e);var t=k(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e,t=this.props,n=t.order,r=t.loading,a=t.isUpdating,i=t.disableUpdate,o=t.onFinish,c=t.isUser,v=t.onDownloadClick;return j(b.a,null,n&&j("div",{className:"main-container"},j(l.a,{onFinish:o,wrapperCol:{sm:{span:18}},labelCol:{sm:{span:6}},initialValues:n,id:"form-update-order"},j(l.a.Item,{wrapperCol:{sm:{span:12}}},j(s.a,{color:"magenta"},"#",n.orderNumber)),j(l.a.Item,{label:"Buyer"},(null===(e=n.buyerInfo)||void 0===e?void 0:e.username)||"N/A"),j(l.a.Item,{label:"Seller"},"system"===n.sellerSource?"System":null!==n&&void 0!==n&&n.sellerInfo?j(g.a,{performer:n.sellerInfo}):"N/A"),j(l.a.Item,{label:"Product"},n.name),j(l.a.Item,{label:"Description"},n.description),"digital"===n.productType&&c?j(l.a.Item,{label:"Download"},j(h.a,{onClick:v})):null,j(l.a.Item,{label:"Quantity"},n.quantity),j(l.a.Item,{label:"Total Price"},"token"===n.payBy?j(O.a,{value:n.totalPrice,suffix:" tokens"}):j("span",null,"$",j(O.a,{value:n.totalPrice}))),"physical"===n.productType?j(m.a.Fragment,null,j(l.a.Item,{label:"Delivery Address"},n.deliveryAddress||"N/A"),j(l.a.Item,{label:"Delivery Postal Code"},n.postalCode||"N/A"),j(l.a.Item,{name:"shippingCode",label:"Shipping Code"},c?n.shippingCode:j(u.a,{placeholder:"Enter shipping code here"}))):null,i||"physical"!==n.productType?j(l.a.Item,{name:"deliveryStatus",label:"Delivery Status"},j(y.b,{status:n.deliveryStatus})):j(l.a.Item,{name:"deliveryStatus",label:"Delivery Status"},j(d.a,null,j(d.a.Option,{key:"processing",value:"processing"},"Processing"),j(d.a.Option,{key:"shipping",value:"shipping"},"Shipping"),j(d.a.Option,{key:"delivered",value:"delivered"},"Delivered"),j(d.a.Option,{key:"refunded",value:"refunded"},"Refunded"),j(d.a.Option,{key:"created",value:"created"},"Pending"))),j(l.a.Item,null,j(p.b,null,j(f.a,{type:"primary",onClick:function(){return x.a.back()}},"Back"),j(f.a,{type:"primary",htmlType:"submit",loading:a,disabled:r,hidden:i},"Update"))))))}}]),n}(v.PureComponent)},"dF/Y":function(e,t,n){"use strict";var r=n("VTBJ"),a=n("q1tI"),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},o=n("6VBw"),c=function(e,t){return a.createElement(o.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:i}))};c.displayName="DownloadOutlined";t.a=a.forwardRef(c)},zeV3:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("wx14"),a=n("rePB"),i=n("ODXe"),o=n("q1tI"),c=n("TSYQ"),l=n.n(c),s=n("Zm9Q"),u=n("H84U");function d(e){var t=e.className,n=e.direction,i=e.index,c=e.marginDirection,l=e.children,s=e.split,u=e.wrap,d=o.useContext(v),p=d.horizontalSize,f=d.verticalSize,m=d.latestIndex,h={};return d.supportFlexGap||("vertical"===n?i<m&&(h={marginBottom:p/(s?2:1)}):h=Object(r.a)(Object(r.a)({},i<m&&Object(a.a)({},c,p/(s?2:1))),u&&{paddingBottom:f})),null===l||void 0===l?null:o.createElement(o.Fragment,null,o.createElement("div",{className:t,style:h},l),i<m&&s&&o.createElement("span",{className:"".concat(t,"-split"),style:h},s))}var p=n("P80f"),f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},v=o.createContext({latestIndex:0,horizontalSize:0,verticalSize:0,supportFlexGap:!1}),m={small:8,middle:16,large:24};t.b=function(e){var t,n=o.useContext(u.b),c=n.getPrefixCls,h=n.space,b=n.direction,y=e.size,g=void 0===y?(null===h||void 0===h?void 0:h.size)||"small":y,O=e.align,w=e.className,x=e.children,j=e.direction,k=void 0===j?"horizontal":j,S=e.prefixCls,I=e.split,N=e.style,C=e.wrap,B=void 0!==C&&C,P=f(e,["size","align","className","children","direction","prefixCls","split","style","wrap"]),E=Object(p.a)(),U=o.useMemo((function(){return(Array.isArray(g)?g:[g,g]).map((function(e){return function(e){return"string"===typeof e?m[e]:e||0}(e)}))}),[g]),R=Object(i.a)(U,2),z=R[0],D=R[1],F=Object(s.a)(x,{keepEmpty:!0}),T=void 0===O&&"horizontal"===k?"center":O,A=c("space",S),_=l()(A,"".concat(A,"-").concat(k),(t={},Object(a.a)(t,"".concat(A,"-rtl"),"rtl"===b),Object(a.a)(t,"".concat(A,"-align-").concat(T),T),t),w),V="".concat(A,"-item"),q="rtl"===b?"marginLeft":"marginRight",M=0,G=F.map((function(e,t){return null!==e&&void 0!==e&&(M=t),o.createElement(d,{className:V,key:"".concat(V,"-").concat(t),direction:k,index:t,marginDirection:q,split:I,wrap:B},e)})),H=o.useMemo((function(){return{horizontalSize:z,verticalSize:D,latestIndex:M,supportFlexGap:E}}),[z,D,M,E]);if(0===F.length)return null;var Y={};return B&&(Y.flexWrap="wrap",E||(Y.marginBottom=-D)),E&&(Y.columnGap=z,Y.rowGap=D),o.createElement("div",Object(r.a)({className:_,style:Object(r.a)(Object(r.a)({},Y),N)},P),o.createElement(v.Provider,{value:H},G))}}},[["RxlS",0,1,3,5,2,4,6,7,10,9,11,12,13,14,15,16,17,18,19,20,21,22,23,26,36,8]]]);